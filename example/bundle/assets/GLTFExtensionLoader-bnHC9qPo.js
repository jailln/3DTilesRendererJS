import{aG as d}from"./three.module-llkpyLgW.js";import{G as l}from"./GLTFLoader-KDqsLDsn.js";import{L as p}from"./LoaderBase-QLlipkOW.js";class h{constructor(){this.name="CESIUM_RTC"}afterRoot(e){if(e.parser.json.extensions&&e.parser.json.extensions.CESIUM_RTC){const{center:t}=e.parser.json.extensions.CESIUM_RTC;t&&(e.scene.position.x+=t[0],e.scene.position.y+=t[1],e.scene.position.z+=t[2])}}}class u extends p{constructor(e=d){super(),this.manager=e}parse(e){return new Promise((t,o)=>{const a=this.manager,n=this.fetchOptions;let s=a.getHandler("path.gltf")||a.getHandler("path.glb");s||(s=new l(a),s.register(()=>new h)),n.credentials==="include"&&n.mode==="cors"&&s.setCrossOrigin("use-credentials"),"credentials"in n&&s.setWithCredentials(n.credentials==="include"),n.headers&&s.setRequestHeader(n.headers);let r=s.resourcePath||s.path||this.workingPath;!/[\\/]$/.test(r)&&r.length&&(r+="/"),s.parse(e,r,c=>{t(c)},o)})}}export{u as G,h as a};
